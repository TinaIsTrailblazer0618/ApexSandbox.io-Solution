public string countAndSay(integer N) {
    if (N == 1) {
        return '1';
    }
    if (N > 1) {
        return sub(String str);
    }
    return countAndSay(N - 1);
}

public String sub(String str) {
    // count and say functionality
    Integer charValue;
    Integer count = 0;
    String result = '';
    // String str = '1';
    for (Integer i = 0; i < str.length(); i++) {
        Integer temp = str.charAt(i);
        if (charValue == null || temp == charValue) {
            count += 1;
            charValue = temp;
        } else {
            result += String.valueOf(count);
            result += String.fromCharArray(new List<Integer>{ charValue });
            count = 1;
            charValue = temp;
        }
        if (i == str.length() - 1) {
            result += String.valueOf(count);
            result += String.fromCharArray(new List<Integer>{ charValue });
        }
    }
    return result;
}