public static Integer search(List<Opportunity> opportunities, Integer target){
    if (opportunities.isEmpty() || target == null) {
        return null;
    }

    // Map<Opportunity, Map<Integer, Integer>> oppMap = 
    //     new Map<Opportunity, Map<Integer, Integer>>();
    // Map<Integer, Integer> amountMap = new Map<Integer, Integer>();
    // for (Integer i = 0; i < opportunities.size(); i++) {
    //     Integer oppAmount = Integer.valueOf(opportunities[i].Amount);
    //     amountMap.put(oppAmount, i);
    //     oppMap.put(opp, amountMap);
    // }

    Map<Integer, Integer> oppMap = new Map<Integer, Integer>();
    for (Integer i = 0; i < opportunities.size(); i++) {
        Integer oppAmount = Integer.valueOf(opportunities[i].Amount);
        oppMap.put(oppAmount, i);
    }

    if (oppMap.containsKey(target)) {
        return oppMap.get(target);
    }
    return - 1;
}